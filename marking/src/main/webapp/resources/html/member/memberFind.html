<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<!-- 헤더 시작 -->
	<!-- ======================================================== -->
	<%@ include file="../common/header.jsp"%>
	<!-- ======================================================== -->
	<!-- 헤더 끝 -->


	<!-- 바디 시작 -->
	<!-- ======================================================== -->

	<div class="container">
		<div class="row">
			<div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
				<div class="card border-0 shadow rounded-3 my-5">
					<div class="card-body p-4 p-sm-5">
						<h2 class="card-title text-center mb-5 fw-bold fs-2" id="find-title">아이디 찾기</h2>
						<div class="mb-3">
							<label class="form-label d-block"></label>
							<div class="form-check form-check-inline">
								<input class="form-check-input" id="selete-id" name="find-info" type="radio"  value="id" checked="checked" onclick="fn_findInfo();"/>
								<label class="form-check-label" for="selete-id">아이디 찾기</label>
							</div>
							<div class="form-check form-check-inline">
								<input class="form-check-input" id="selete-pwd" name="find-info" type="radio" value="pwd" onclick="fn_findInfo();"/> 
								<label class="form-check-label" for="selete-pwd">비밀번호 찾기</label>
							</div>
						</div>
						
						<div class="mb-2 col-xs-6">
							<label class="form-label d-block"></label>
							<div class="form-check form-check-inline">
							
								<input class="form-check-input" id="selete-email" name="find-info-type"type="radio" value="email" checked="checked" onclick="fn_findInfo();"/> 
								<label class="form-check-label" for="selete-email">이메일</label>
							
							</div>
							
							<div class="form-check form-check-inline">
							
								<input class="form-check-input" id="selete-tel" name="find-info-type" type="radio" value="tel" onclick="fn_findInfo();"/> 
								<label class="form-check-label" for="selete-tel">전화번호</label>
							 
							</div>
						</div>
						
						<div class="" id="find-id">
							<div class="" id="find-id-email">
								<!-- 아이디 이메일 ======================================================== -->
								<form action="${contextPath}/member/findId" method="post" name="frm" id="frm">
									<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
									<div class="form-floating mb-3">
										<input type="text" class="form-control" id="" name="member_name" placeholder="text"> 
										<label for="member_name" >이름</label>
									</div>
									<div class="form-floating mb-3">
										<input type="text" class="form-control" id="" name="member_email" placeholder="text"> 
										<label for="member_email" >이메일 (ex : marking.com)</label>
									</div>
									<div class="d-grid">
										<button class="btn btn-dark btn-login text-uppercase fw-bold main-hover" type="submit">
											아이디 찾기
										</button>
									</div>
								</form>
							</div>
							<div class="" id="find-id-tel">
								<!-- 아이디 전화번호======================================================== -->
								<form action="" method="post" name="frm" id="frm">
									<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
									<div class="form-floating mb-3">
										<input type="text" class="form-control" id="" name="member_name" placeholder="text"> 
										<label for="member_name" >이름</label>
									</div>
									<div class="form-floating mb-3">
										<input type="text" class="form-control" id="" name="member_tel" placeholder="text"> 
										<label for="member_tel" >전화번호 ( - 제외한 숫자 10~11자리)</label>
									</div>
									<div class="d-grid">
										<button class="btn btn-dark btn-login text-uppercase fw-bold main-hover" type="submit">
											아이디 찾기
										</button>
									</div>
								</form>
							</div>

						</div>

						<div class="" id="find-pwd">
							<div class="" id="find-pwd-email">
								<!-- 비밀번호 이메일 ======================================================== -->
								<form action="/marking.co.kr/findPassword" method="post" name="frm" id="frm1">
									<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
									<div class="form-floating mb-3">
										<input type="text" class="form-control" id="" name="member_id" placeholder="text"> 
										<label for="member_id" >아이디</label>
									</div>
									<div class="form-floating mb-3">
										<input type="text" class="form-control" id="" name="member_name" placeholder="text"> 
										<label for="member_name" >이름</label>
									</div>
									<div class="form-floating mb-3">
										<input type="text" class="form-control" id="" name="member_email" placeholder="text"> 
										<label for="member_email" >이메일 (ex : marking.com)</label>
									</div>
									
									<div class="" id="find-pwd-email-check">
										
									</div>
									<div class="d-grid">
										<button class="btn btn-dark btn-login text-uppercase fw-bold main-hover" type="submit">임시 비밀번호 전송</button>
									</div>
								</form>
							</div>

							<div class="" id="find-pwd-tel">
								<!-- 비밀번호 전화번호======================================================== -->
								<form action="" method="post" name="frm" id="frm">
									<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
									<div class="form-floating mb-3">
										<input type="text" class="form-control" id="" name="member_id" placeholder="text"> 
										<label for="member_id" >아이디</label>
									</div>
									<div class="form-floating mb-3">
										<input type="text" class="form-control" id="" name="member_name" placeholder="text"> 
										<label for="member_name" style="font-size: 12px;">이름</label>
									</div>
									<div class="form-floating mb-3">
										<input type="text" class="form-control" id="" name="member_tel" placeholder="text"> 
										<label for="member_tel" >전화번호 ( - 제외한 숫자 10~11자리)</label>
									</div>
									<div class="d-grid mb-3 ms-auto w-50" >
										<input class="btn btn-dark btn-login text-uppercase fw-bold sub-hover" value="인증번호 전송" type="button" onclick="fn_find_tel_check()"/>
									</div>
									
									<div class="" id="find-pwd-tel-check">
										<div class="form-floating mb-3">
											<input type="text" class="form-control" id="" placeholder="text"> 
											<label for="" >인증번호</label>
										</div>
										<div class="d-grid mb-3 ms-auto w-50" >
											<input class="btn btn-dark btn-login text-uppercase fw-bold sub-hover" value="인증확인" type="button"/>
										</div>
									</div>
									<div class="d-grid">
										<button class="btn btn-dark btn-login text-uppercase fw-bold main-hover" type="submit">비밀번호 찾기</button>
									</div>
								</form>

							</div>

						</div>
						<!-- ======================================================== -->
					</div>
				</div>
			</div>
		</div>
	</div>
	
<!-- 모달 -->	
<div class="modal fade" id="myModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">정보</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="here">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
	
	<!-- ======================================================== -->
	<!-- 바디 끝 -->


	<!-- 푸터 시작 -->
	<!-- ======================================================== -->
	<%@ include file="../common/footer.jsp"%>
	<!-- ======================================================== -->
	<!-- 푸터 끝 -->
	
	<script defer type="text/javascript">
	
		$("#frm1").on("click",function(e){
			e.preventDefault;
			
			alert("임시비밀번호가 해당 메일로 전송되었습니다.")
			
			$("#frm1").submit();
		});
	
	</script>
	
	<script defer type="text/javascript">

	$(document).ready(function(){
		
	var message = "";
	message += "${SuccessMessage}";
	message += "${failMessage}";
	$(".modal-body").append(message);
	if(message != "") {
		$("#myModal").modal("show");
		}
	});
	
	</script>
	
	
	
	<script type="text/javascript">
		
			
			function fn_findInfo(){
				var info_length = document.getElementsByName('find-info').length;
				var type_length = document.getElementsByName('find-info-type').length;
				var info;
				var type;
				
				for (var i = 0 ; i < info_length ; i++) {
					if(document.getElementsByName('find-info')[i].checked == true) {
						info = 	document.getElementsByName('find-info')[i].value;
					}
				}
				
				for (var i = 0 ; i < info_length ; i++) {
					if(document.getElementsByName('find-info-type')[i].checked == true) {
						type = 	document.getElementsByName('find-info-type')[i].value;
					}
				}
				if(info == 'id' && type == 'email') {
					document.getElementById("find-id").style.display = "block";
					document.getElementById("find-id-email").style.display = "block";
					document.getElementById("find-id-tel").style.display = "none";
					document.getElementById("find-pwd").style.display = "none";
					
					document.getElementById("find-title").innerText="아이디 찾기"
					
				} else if(info == 'id' && type == 'tel') {
					document.getElementById("find-id").style.display = "block";
					document.getElementById("find-id-tel").style.display = "block";
					document.getElementById("find-id-email").style.display = "none";
					document.getElementById("find-pwd").style.display = "none";
					
					document.getElementById("find-title").innerText="아이디 찾기"
					
				} else if(info == 'pwd' && type == 'email') {
					document.getElementById("find-pwd").style.display = "block";
					document.getElementById("find-pwd-email").style.display = "block";
					document.getElementById("find-pwd-email-check").style.display = "none";
					document.getElementById("find-pwd-tel-check").style.display = "none";
					document.getElementById("find-pwd-tel").style.display = "none";
					document.getElementById("find-id").style.display = "none";
					
					document.getElementById("find-title").innerText="비밀번호 찾기"
					
				} else if(info == 'pwd' && type == 'tel') {
					document.getElementById("find-pwd").style.display = "block";
					document.getElementById("find-pwd-tel").style.display = "block";
					document.getElementById("find-pwd-email-check").style.display = "none";
					document.getElementById("find-pwd-tel-check").style.display = "none";
					document.getElementById("find-pwd-email").style.display = "none";
					document.getElementById("find-id").style.display = "none";
					
					document.getElementById("find-title").innerText="비밀번호 찾기"
					
				}
			};
			
			function fn_find_email_check(){
				document.getElementById("find-pwd-email-check").style.display = "block";
			}
			
			function fn_find_tel_check(){
				document.getElementById("find-pwd-tel-check").style.display = "block";
			}
		
	</script>
</body>
</html>